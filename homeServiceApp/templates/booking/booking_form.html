{% extends 'layout/base.html' %}
{% load static %}
{% block content %}


  <main class="mt-3">
    <div class="container mt-5">

        <section id="service" class="services section">

          <!-- Section Title -->
          <div class="container section-title" data-aos="fade-up">
            <h2> Make Booking</h2>

              <form class="row g-3 needs-validation mt-4"  method="post" action="{% url "createBooking" service_id=service.id provider_id=provider.id %}" >
                        {% csrf_token %}

                  <div class="form-group row col-6 p-4">
                      <div class="col">
                          <label for="services"> Service </label>
                      </div>
                      <div class="col">
                          <input class="form-control" type="text" name="service" disabled="true" value="{{ service }}" >
                      </div>
                  </div>

                   <div class="form-group row col-6 p-4">
                      <div class="col">
                          <label for="provider"> Provider </label>
                      </div>
                      <div class="col">
                          <input class="form-control" name="provider" type="text" disabled="true" value="{{ provider }}" >
                      </div>
                  </div>

                  <div class="form-group row col-6 p-4">
                      <div class="col">
                          <label for="provider"> Address </label>
                      </div>
                      <div class="col">
                          <input class="form-control" type="text" name="daddress"  disabled="true" value="{{ user.address }}">
                      </div>
                  </div>

                   <div class="form-group row col-6 p-4">
                      <div class="col">
                          <label for="provider"> Appointment Date </label>
                      </div>
                      <div class="col">
                          <input class="form-control" type="date" name="ddate" placeholder="Enter your desired date" >
                      </div>
                  </div>

                   <div class="form-group row p-4">
                      <div class="col">
                          <label for="provider"> Designated time </label>
                      </div>
                      <div class="col">
                          <input class="form-control" type="time" name="dtime" id="dtime" step="3600" placeholder="Enter your desired time" >
                      </div>
                  </div>
                  <table class="table">
  <thead>
    <tr>
      <th scope="col" colspan="4">Estimated cost</th>

    </tr>
  </thead>
  <tbody>

  <tr>
      <th scope="row">1</th>
      <td>Service</td>
        <td></td>
        <td>{{ service }}</td>

    </tr>

  <tr>
      <th scope="row">2</th>
      <td>Provider</td>
        <td></td>
        <td>{{ provider }}</td>

    </tr>
    <tr>
      <th scope="row">3</th>
      <td>Hourly Rate of {{ provider.user.last_name }}</td>
        <td></td>
        <td>{{ provider.hourly_rate }} AUD</td>

    </tr>
    <tr>
      <th scope="row">4</th>
        <td>Duration (Hours)</td>

      <td></td>
      <td>{{ service.duration }}</td>
    </tr>
    <tr>
      <th scope="row">5</th>
        <td>Service Charge</td>

      <td></td>
      <td>{{ service.price }} AUD.</td>
    </tr>
    <tr>
      <th scope="row">6</th>
        <td> GST (10% Included) </td>
      <td ></td>
      <td>{{  GST }} AUD.</td>
    </tr>

  <tr>
      <th scope="row"></th>
        <td> Total </td>
      <td ></td>
      <td>{{ total }} AUD.</td>
    </tr>
  </tbody>
</table>


{#                      {% for field in form %}#}
{#                        <div class="col-4">#}
{#                          <label for="yourUsername" class="form-label">{{ field.label }}</label>#}
{#                          <div class="input-group has-validation">#}
{#                            {{ field }}#}
{#                            <div class="invalid-feedback">#}
{#                                {% if field.errors %}#}
{#                                    {{ field.errors|striptags }}#}
{#                                {% else %}#}
{#                                    Please enter your {{ field.label }}.#}
{#                                {% endif %}#}
{#                            </div>#}
{#                          </div>#}
{#                        </div>#}
{#                    {% endfor %}#}

                    <div class="col-12">
                      <button class="btn btn-primary w-100" type="submit"> Request Booking</button>
                    </div>

                  </form>
          </div><!-- End Section Title -->


    </section><!-- /Services Section -->

    </div>
  </main>
    <!-- End #main -->

{% endblock %}